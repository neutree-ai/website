---
interface Props {
  title?: string;
  description?: string;
  ogImage?: string;
}

const {
  title = "Neutree - Enterprise-grade Private Model-as-a-Service Platform",
  description = "Manage AI infrastructure with simplicity and deploy cutting-edge AI capabilities efficiently. Support for heterogeneous accelerators, flexible deployment modes, and enterprise-grade features.",
  ogImage = "/images/og-image.png",
} = Astro.props;

// 构建完整的 OG image URL
const siteUrl = import.meta.env.SITE || "";
const imageUrl = ogImage.startsWith("http") 
  ? ogImage 
  : `${siteUrl}${ogImage.startsWith("/") ? ogImage : `/${ogImage}`}`;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <meta name="generator" content={Astro.generator} />

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={imageUrl} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:site_name" content="Neutree" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={imageUrl} />

    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600&family=DM+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <title>{title}</title>
  </head>
  <body>
    <slot />
  </body>
</html>

<style is:global>
  :root {
    /* Color System - Based on Figma Design */
    --color-text-primary: #0C2849;
    --color-text-secondary: rgba(12, 40, 73, 0.8);
    --color-text-tertiary: rgba(12, 40, 73, 0.6);
    --color-text-footer: rgba(12, 40, 73, 0.5);
    
    --color-bg: #FFFFFF;
    --color-bg-subtle: rgba(12, 40, 73, 0.02);
    --color-bg-footer: rgba(12, 40, 73, 0.05);
    
    --color-border: rgba(12, 40, 73, 0.1);
    --color-border-strong: rgba(12, 40, 73, 0.3);
    
    /* Legacy color variables for backward compatibility */
    --color-text: var(--color-text-primary);
    --color-bg-alt: var(--color-bg-subtle);
    --color-primary: var(--color-text-primary);
    --color-primary-hover: rgba(12, 40, 73, 0.9);

    /* Typography */
    --font-sans: "DM Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      sans-serif;
    --font-mono: "DM Mono", "Courier New", monospace;

    /* Spacing System - Precise px values from Figma */
    --spacing-xs: 8px;
    --spacing-sm: 12px;
    --spacing-md: 16px;
    --spacing-lg: 20px;
    --spacing-xl: 24px;
    --spacing-2xl: 32px;
    --spacing-3xl: 40px;
    --spacing-4xl: 48px;
    --spacing-5xl: 60px;
    --spacing-6xl: 64px;
    --spacing-7xl: 80px;
    --spacing-hero-top: 160px;

    /* Font Sizes */
    --font-size-hero-title: 72px;
    --font-size-hero-subtitle: 48px;
    --font-size-hero-desc: 20px;
    --font-size-section-title: 32px;
    --font-size-section-subtitle: 20px;
    --font-size-feature-title: 24px;
    --font-size-feature-desc: 16px;
    --font-size-button: 16px;
    --font-size-footer: 14px;

    /* Line Heights */
    --line-height-tight: 1.2;
    --line-height-normal: 1.302;

    /* Letter Spacing */
    --letter-spacing-tight: -0.03em; /* -3% */
    --letter-spacing-tighter: -0.06em; /* -6% */

    /* Shadows */
    --shadow-button-primary: 
      0px 0.27px 2.35px 0px rgba(0, 0, 0, 0.02),
      0px 2.54px 8.36px 0px rgba(0, 0, 0, 0.04),
      0px 9.99px 23.33px 0px rgba(0, 0, 0, 0.05),
      0px 47px 80px 0px rgba(0, 0, 0, 0.07);
      
    --shadow-button-outlined: 
      0px 0.27px 2.35px 0px rgba(12, 40, 73, 0.02),
      0px 2.54px 8.36px 0px rgba(12, 40, 73, 0.04),
      0px 9.99px 23.33px 0px rgba(12, 40, 73, 0.05),
      0px 47px 80px 0px rgba(12, 40, 73, 0.07);

    /* Border radius */
    --radius-sm: 0.375rem;
    --radius-md: 8px;
    --radius-lg: 0.75rem;

    /* Layout */
    --max-width-content: 1280px;
    --max-width-text: 720px;
    --padding-horizontal-desktop: 80px;
    --padding-horizontal-tablet: 40px;
    --padding-horizontal-mobile: 20px;
  }

  /* Medium Desktop - 1280px to 1440px */
  @media (min-width: 1280px) and (max-width: 1440px) {
    :root {
      --padding-horizontal-desktop: 40px;
    }
  }

  /* Tablet Responsive */
  @media (max-width: 1279px) {
    :root {
      --font-size-hero-title: 48px;
      --font-size-hero-subtitle: 32px;
      --font-size-hero-desc: 18px;
      --font-size-section-title: 28px;
      --font-size-feature-title: 20px;
      --padding-horizontal-desktop: var(--padding-horizontal-tablet);
    }
  }

  /* Mobile Responsive */
  @media (max-width: 767px) {
    :root {
      --font-size-hero-title: 36px;
      --font-size-hero-subtitle: 24px;
      --font-size-hero-desc: 18px;
      --font-size-section-title: 24px;
      --font-size-section-subtitle: 18px;
      --font-size-feature-title: 18px;
      --font-size-feature-desc: 14px;
      --padding-horizontal-desktop: var(--padding-horizontal-mobile);
      --spacing-hero-top: 80px;
    }
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    margin: 0;
    width: 100%;
    min-height: 100vh;
    background-color: var(--color-bg-subtle);
    color: var(--color-text-primary);
    line-height: 1.6;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-weight: 600;
    line-height: var(--line-height-normal);
    color: var(--color-text-primary);
    letter-spacing: var(--letter-spacing-tight);
  }

  p {
    line-height: 1.6;
    color: var(--color-text-secondary);
  }

  a {
    color: var(--color-text-primary);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  a:hover {
    color: var(--color-text-secondary);
  }
</style>
